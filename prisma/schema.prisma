generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider     = "mysql"
  url          = env("DATABASE_URL")
  relationMode = "prisma"
}

enum Occupation {
  OTHER
  ACADEMIC_EDUCATOR
  ARTIST
  CLERICAL_ADMIN
  COLLEGE_GRADSTUDENT
  CUSTOMERSERVICE
  DOCTOR_HEALTHCARE
  EXECUTIVE_MANAGERIAL
  FARMER
  HOMEMAKER
  K12STUDENT
  LAWYER
  PROGRAMMER
  RETIRED
  SALES_MARKETING
  SCIENTIST
  SELFEMPLOYED
  TECHNICIAN_ENGINEER
  TRADESMAN_CRAFTSMAN
  UNEMPLOYED
  WRITER
}

model User {
  id         Int        @id @default(autoincrement())
  email      String     @unique
  name       String
  birth      DateTime   @db.Date
  occupation Occupation
  gender     String     @db.Char(1)
  image      String?
  reviews    Review[]
}

enum Watch {
  WATCHED
  WATCHING
  WANT_TO_WATCH
}

model Review {
  id      Int     @id @default(autoincrement())
  user    User    @relation(fields: [userId], references: [id])
  userId  Int
  movieId Int
  watch   Watch
  rating  Int     @default(0) @db.TinyInt
  summary String? @db.Text

  @@index([userId])
}
